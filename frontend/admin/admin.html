<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Admin Dashboard – Codearena</title>
  <link rel="stylesheet" href="admin.css">
</head>

<body>
  <div class="nav">
    <button class="tab-btn active" data-tab="details">Details</button>
    <button class="tab-btn" data-tab="challenges">Challenges</button>
    <button class="tab-btn" data-tab="signups">Signups</button>
    <button class="tab-btn" data-tab="standing">Standing</button>
  </div>

  <!-- details -->
  <div class="section active" id="details">
    <h2>Contest Details</h2>
    <div id="contestDetailsContainer">Loading...</div>
  </div>

  <!-- //challneges -->
  <div class="section" id="challenges">
    <h2>Assign Challenges</h2>

    <!-- Filters -->
    <div style="margin-bottom: 1rem; display: flex; gap: 1rem;">
      <div>
        <label for="ratingFilter">Filter by Rating:</label><br />
        <select id="ratingFilter">
          <option value="">All</option>
          <!-- Options will be dynamically filled -->
        </select>
      </div>

      <div>
        <label for="tagFilter">Filter by Tag:</label><br />
        <select id="tagFilter">
          <option value="">All</option>
          <!-- Options will be dynamically filled -->
        </select>
      </div>

      <div style="align-self: flex-end;">
        <button id="applyFiltersBtn">Apply Filters</button>
      </div>
    </div>

    <!-- Problem lists -->
    <div style="display: flex; gap: 2rem; flex-wrap: wrap;">
      <!-- Available Problems -->
      <div style="flex: 1;">
        <h3>Available Problems</h3>
        <div id="problemList" style="max-height: 300px; overflow-y: auto; border: 1px solid #ccc; padding: 0.5rem;">
          Loading...
        </div>
        <button id="addSelectedBtn" style="margin-top: 0.5rem;">Add Selected to Contest</button>
      </div>

      <!-- Assigned Problems -->
      <div style="flex: 1;">
        <h3>Assigned Problems</h3>
        <ul id="assignedProblems"></ul>
        <button id="saveProblemsBtn" style="margin-top: 1rem;">✅ Save Assigned Challenges</button>
      </div>
    </div>
  </div>

  <!-- signups -->
  <div class="section" id="signups">
    <p>Total Participants: <span id="signup-count">0</span></p>

    <table id="signup-table" border="1" cellspacing="0" cellpadding="6">
      <thead>
        <tr>
          <th>Username</th>
          <th>Email</th>
          <th>Joined At</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <!-- stats -->
  <div class="section" id="standing">
    <iframe id="standingsFrame" style="width:100%; height:600px; border:none;"></iframe>
  </div>

  <script src="admin.js"></script>
</body>

</html>